# Chapter1 데이터 처리 프로세스 (2019/07/08)
## 개요 
### 정형데이터 분석 
#### 데이터 
- 데이터는 기업의 핵심적인 경영 프로세스의 중심
- 정형 데이터 분석은 수십억, 수조의 바이트들의 데이터 속에서 흥미로운 패턴을 발견하는 것이 가능
- 데이터 분석은 활용 가능한 결과를 도출해야 함 

#### 왜 관심이 높아지는가? 
- Data
  > 대용량 정형 및 비정형 데이터의 빠른 생상   
  > 방대한 훈련용 데이터 증가   
- Compute  
  > 컴퓨팅 능력의 향상  
  > Distributed GPUs   
- 알고리즘 
  > 기계학습 방안의 연구 발전     
  > Deep Neural Networks(Deep Belief Network, CNN, RNN)   
  
#### 정형데이터 분석 
- 방향성 데이터 분석
  > y값을 정해두고 진행하는 데이터 분석  
  > 회귀분석, Decision Tree 등의 지도학습으로 진행   
    > - 분류: 고객이탈 예측(y값이 범주형 데이터)  
    > - 추정: 영화 관객수 예측 (y값이 연속형 데이터)  
    
- 무방향성 데이터 분석
  > y값을 정해두지 않고 진행하는 데이터 분석  
  > 군집분석, 상관분석, 연관성분석 등의 비지도 학습으로 진행  

- 전통적인 데이터 수명주기 
  > Data -(가치부여)- Information - (일반화) - Knowledge - wisdom 순으로 진행되었다.   
  > 하지만 빅데이터 시대에서는 Data - (모델링) - Insight - (프로세스 내재화) - Action 으로 진행되어야 성과가 나온다.  

#### 정형 데이터 분석을 위한 데이터마이닝
- 데이터 마이닝 
  > 다량의 데이터를 탐구하고 분석하며 의미있는 패턴이나 규칙을 찾아내는 일 
- 데이터 마이닝의 2종류 
  > 방향성과 무방향성 
    > - 방향성 데이터 마이닝: 특정한 목표 필드를 설명하거나   
    > - 무방향성 데이터 마이닝: 목표 필드나 사전에 정의된 클래스들의 집합을 사용하지 않고 규칙이나 유사성을 찾으려는 시도  
    
## 주요 개념과 절차 
### 정형 데이터 분석의 사전 작업
#### 데이터 정제(Cleaning) 
- Garbage - in, Garbage - out 
  > 고객의 미기재나 잘못된 입력, 시스템 입력 시의 실수, 데이터 통합 과정에서의 오류 등 다양한 이유로 인해 데이터 베이스 내의 데이터들은 깨끗하지 않다. 
- 데이터 마이닝을 방해하는 함정들 
  > 불량한 데이터 형식: 우편번호가 포함되어 있지 않은 고객 주소 등  
  > 혼란스러운 데이터 필드: '배송일자'라는 필드가 한 시스템에서 '예상 배송일자'를 의미하고 다른 시스템에서는 '실제 배송일자'를 의미하는 경우 등   

#### 시그니처 생성 
- 시그니처 
  > 분석의 대상이 되는 데이터들은 여러 데이터베이스에서 분산되어 저장되어 있음   
  > 고객의 이탈 여부를 분석하는 경우, 고객의 기본적인 정보는 별도의 테이블에 존재   
  > 기업 내 다수의 데이터 원천으로부터 필요한 데이터 항목들을 추출하여, 분석에 사용할 하나의 테이블로 만드는 것을 시그니처 생성이라고 함   

### 정형 데이터 분석의 활용범위 
#### 분류 
- 분류, 구별, 등급
- 새로 나타난 대상의 특징들을 살펴보고 사전에 정의된 분류 집합에 할당
- 클래스들에 대한 사전에 명확한 정의가 존재하며, 미리 분류된 예들로 구성된 훈련집합을 가짐 
- 특징 
  > 클래스에 대한 사전에 명확한 정의가 존재  
  > 미리 분류된 예들로 구성된 훈련 집합  
- 분류 작업의 목적
  > 분류되지 않는 데이터에 적용되어 분류할 수 잇도록 해주는 모형을 만드는 것  
- 예
  > 신용 평가 대상자를 위험에 따라 상중하로 분류
  > 웹 페이지에 표시될 콘텐츠의 종류를 결정  
  > 사기성 보험 청구를 판단   
- 주요 데이터마이닝 기법
  > 의사결정나무  
  > 최근접 이웃 기술  
  > 인공신경망  
  > 소셜 네트워크 분석  
  
#### 추정 
- 분류는 이산형 출력 (예,아니오/ 상,중,하)
- 추정은 연속형 값을 가지는 결과를 다룸
- 추정은 분류작업에도 자주 사용  
  > 스키 타는 사람 분류  
  > 스키 선호 점수(0과 1사이의 값)  
- 예 
  > 한 가정의 자녀의 수를 추정  
  > 한 가정의 총 가계 수입을 추정  
  > 한 고객의 평생 가치를 추정  
  > 은행에서 잔액 이체 서비스 홍보에 반응할 확률을 추정  

#### 예측 
- 미래 행위를 분류하거나 미래 값을 추정 
- 입력 변수와 출력 변수간의 순차적 관계 고려 (선후성 고려)  
- 예
  > 신용카드 소지자가 잔액 이체 제안을 받아들이는 경우 이체할 잔액의 양을 예측
  > 6개월 이내 이탈할 고객들을 예측
  > 전화 사용자가 3자 통화나 음성 메일과 같은 부가 서비스를 신청할지의 여부를 예측 
- 대부분의 데이터마이닝 기술들은 예측 작업에 활용 가능 
- 기법의 선택
  > 입력 데이터의 특성  
  > 예측하려는 값의 유형  
  > 예측에 대한 설명력의 중요성  
  
#### 군집화 
- 이질적인 사람들의 모집단으로부터 다수의 동질적인 하위 집단 혹은 군집들로 세분화하는 작업
- 사전에 정의된 클래스도, 사전에 분류된 예시도 없음
- 군집화에서는 레코드들은 상호 유사성에 근거하여 함께 그룹화
  > 결과로 만들어진 군집들에 의미를 부여하는 것은 사용자의 몫  
- 다른 형태의 데이터마이닝이나 모형화의 사전 작업으로 활용 
- 주요 데이터마이닝 기법
  > K- 평균 군집화  
  > 2단계 군집화  
  > 자기 조직화 지도(Self Organization Map,SOM)  
  > Gaussian Mixture Model  

#### 연관규칙 분석 
- 어떤 일들이 함께 발생하는지 판단 (쇼핑카트) 
- 장바구니 분석(상품 진열, 상품 패키징) (MBA:Market Basket Analysis) 
- 데이터로부터 규칙 생성
  > 고양이 사료를 사는 사람들은 고양이 깔개를 P1확률로 같이 구매
  > 고양이 깔개를 사는 사람들은 고양이 사료를 P2확률로 같이 구매 
  
#### 데이터 설명 
- 고객, 상품, 업무프로세스 등에 무슨 일들이 일어나는지에 대한 이해를 높이는 방법으로 데이터 마이닝을 사용할 수 있음 

#### 정형 데이터 분석의 선순환
- 비즈니스 문제의 식별 - 데이터로부터 정보를 도출(인사이트) - 도출된 정보를 기초로 한 행동 - 결과에 대한 평가

# Chapter2
## 개요 
### 데이터 집합
#### 데이터 집합 구분
- 정형 데이터 분석 기법 중 데이터 마이닝 기법은 기업의 과거 데이터를 기초로 학습 
- 유용한 패턴이나 규칙을 도출하기 위한 데이터와 도출된 규칙의 유용성을 평가하기 위한 데이터의 구분이 필요 (훈련셋, 검증셋, 테스트셋) 
#### 데이터의 균형화 
- 분류 문제의 경우 목표 변수를 기준으로 다른 범주의 값들을 가지는 사례가 섞여 있음 
  > 고객 이탈 여부가 목표 변수인 경우, '이탈'과 '유지'로 분류된 고객 존재 
  > 일반적으로 기업이 관심있는 고객은 이탈고객, 유지고객은 상대적으로 소수 
  > 모형 생성 이전에 균형화 작업이 필요 
### 모형의 평가 
#### 분류나 추정 모형의 평가
- 정형 데이터 분석을 통하여 생성된 유용한 규칙이나 패턴이 실제 사용가능한지 성능을 평가하는 과정이 필요 
  > 모형의 정확도: 의사결정 나무
  > 모형의 투명성 또는 이해 가능성: 인공신경망
- 상황에 따라 모형의 정확도만이 유일한 평가 척도 일 수 있음 

## 데이터 집합과 과적합 
### 학습데이터의 구분 
#### 모형 생성과 스코어링 단계
- 방향성 데이터마이닝의 경우, 데이터마이닝 단계는 크게 모형생성 단계와 스코어링 단계로 구분
  > 모형 생성 단계: 과거의 데이터로부터 정형 데이터 분석 기법을 적용 모형을 생성
  > 스코어링 단계: 생성된 모형을 사용하여, 새로운 사례에 대하여 분류또는 추정을 수행
#### 데이터 집합의 분할 
- 훈련용 데이터 집합, 검증용 데이터 집합, 테스트 데이터 집합 
- 과대적합: 최적합 이상의 학습을 진행하면 현실의 노이즈도 함께 학습하여 에러율이 높아지는 상태(p.246)

## 모형의 평가
### 분류 모형의 평가 
#### 정분류율과 오분류율
- 정분류율: 테스트 집합의 사례 중에서 모형이 몇개를 *정확하게 분류했는지*에 대한 비율
- 오분류율: 1 - 정분류율
- 소수집단 정분류율: 전체 데이터에 대한 정분류율보다 우선적으로 관심이 있는 소수 집단 정분류율이 더 중요한 경우도 존재

#### 분류 모형의 평가를 위한 ROC곡선 
- 민감도와 특이도 관계에서는 trade-off 가 발생하며, 민감도와 1-특이도를 그래프로 표시한 것을 ROC곡선 (p.250 생략) 
